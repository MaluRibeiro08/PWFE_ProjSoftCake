<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Soft Cake</title>
    <link rel="stylesheet" href="../public/styles/global.css">
    <link rel="stylesheet" href="./style.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A==" crossorigin="" />
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js" integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA==" crossorigin=""></script>
    <script src="https://kit.fontawesome.com/7cbb7ae6e7.js" crossorigin="anonymous"></script>
    <script src="../components/header/header.js" defer></script>
</head>
<body>
    <main-header></main-header>
    <main>
        <h1>Onde estamos?</h1>
        <div class="principal">
            <div id="mapa"></div>
            <div class="infos-unidades">
                <p>Encontre a unidade Soft Cake mais próxima a você.</p>
                <select name="" id="select-cidades">
                    <option value="" disabled selected> Selecione sua cidade</option>
                    <option value="">Carapicuíba</option>
                    <option value="">Osasco</option>
                    <option value="">Barueri</option>
                    <option value="">Jandira</option>
                    <option value="">São Paulo</option>
                </select>
            </div>
        </div>
        <div class="container-separador">
            <div class="separador">Veja nossas unidades</div>
        </div>
        
        <!-- <footer><div class="separador">Veja nossas unidades</div></footer> -->

        <div class="container-geral-unidades">
            <div class="container-unidade">
                <div class="container-titulo-unidade">
                    <i class="fas fa-map-marker-alt"></i>
                    <h2>Nome da unidade</h2>
                </div>
                <div class="container-endereco">
                    <h4>Endereço</h4>
                    <p>Av. Sapopemba, 8172 - Vila Fatima, São Paulo - SP, 03268-200 </p>
                </div>
                <div class="container-funcionamento">
                    <h4>Funcionamento</h4>
                    <div class="container-dias-horarios">
                        <div class="container-dias-funcionamento">
                            <ul>
                                <li><span>Segunda a Sábado</span></li>
                                <li><span>Domingo</span></li>
                            </ul>
                        </div>
                        <div class="container-horarios-funcionamento">
                            <li>
                                <i class="far fa-clock"></i>
                                <p>Das 08h às 20h</p>
                            </li>
                            <li>
                                <i class="far fa-clock"></i>
                                <p>Fechado</p>
                            </li>
                        </div>
                    </div>
                </div>

            </div>
            <div class="container-unidade">
                <div class="container-titulo-unidade">
                    <i class="fas fa-map-marker-alt"></i>
                    <h2>Nome da unidade</h2>
                </div>
                <div class="container-endereco">
                    <h4>Endereço</h4>
                    <p>Av. Sapopemba, 8172 - Vila Fatima, São Paulo - SP, 03268-200 </p>
                </div>
                <div class="container-funcionamento">
                    <h4>Funcionamento</h4>
                    <div class="container-dias-horarios">
                        <div class="container-dias-funcionamento">
                            <ul>
                                <li><span>Segunda a Sábado</span></li>
                                <li><span>Domingo</span></li>
                            </ul>
                        </div>
                        <div class="container-horarios-funcionamento">
                            <li>
                                <i class="far fa-clock"></i>
                                <p>Das 08h às 20h</p>
                            </li>
                            <li>
                                <i class="far fa-clock"></i>
                                <p>Fechado</p>
                            </li>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </main>
    <script>
        const mapa = L.map('mapa').setView([-23.5043384, -46.8431054], 12)

        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(mapa)

        const icone = L.icon({
            iconUrl: '../public/images/map-marker.svg',
            iconSize: [50, 58],
            iconAnchor: [29, 58],
        })

        function adicionarMarker({ id, name, lat, lng }) {
            const popup = L.popup({
                closeButton: false,
                className: 'map-popup',
                minHeight: 35,
                offset: [1, -55]
            }).setContent(
                `${name}`
            )

            L.marker([lat, lng], { icon: icone }).addTo(mapa).bindPopup(popup)
        }

        const unidades = [
                {
                    id: 1,
                    name: 'Vila Fatima',
                    lat: -23.5985273,
                    lng: -46.5238523,
                },
                {
                    id: 2,
                    name: 'Butantã',
                    lat: -23.5707281,
                    lng: -46.7192966,
                },
                {
                    id: 3,
                    name: 'Barueri',
                    lat: -23.5043384,
                    lng: -46.8431054,
                },
                {
                    id: 4,
                    name: 'Jandira',
                    lat: -23.5299096,
                    lng: -46.9107319,
                },
                {
                    id: 5,
                    name: 'Capão Redondo',
                    lat: -23.6589575,
                    lng: -46.7740266,
                },
                {
                    id: 6,
                    name: 'Osasco',
                    lat: -23.5308967,
                    lng: -46.8035118,
                },
                {
                    id: 7,
                    name: 'Guarulhos',
                    lat: -23.4139991,
                    lng: -46.4625303,
                },
                {
                    id: 8,
                    name: 'Sede Alphaville',
                    lat: -23.4622736,
                    lng: -46.8960095,
                }
        ];

        unidades.forEach((unidade) => {
            adicionarMarker(unidade)
        });
    </script>
</body>
</html>